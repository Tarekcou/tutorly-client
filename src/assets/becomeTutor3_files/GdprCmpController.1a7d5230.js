(()=>{function e(e,t,n,s){Object.defineProperty(e,t,{get:n,set:s,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire94c2,n=t.register;n("kRyoT",function(n,s){e(n.exports,"GdprCmpController",()=>a);var i=t("kzI06"),r=t("8QPZA"),o=t("8bfDC");class a extends i.CmpController{constructor(e,t,n){super(e,t,n),this.consent=new r.GdprConsentModel(e.consent,{uiVersion:null==n?void 0:n.uiVersion}),this.i18n=new o.GdprI18nModel(e.i18n)}}}),n("kzI06",function(n,s){e(n.exports,"CmpController",()=>I);var i=t("h2FSh"),r=t("kTJf3"),o=t("7nwmn"),a=t("7qJ26"),c=t("dIRcU"),u=t("bxjJO"),l=t("2hIpA"),d=t("8bfDC"),v=t("gUC9p"),g=t("6YDm0"),p=t("e08dO"),h=t("5CKHf"),f=t("5TDlN"),S=t("hN3Ja"),C=t("dH0Qb"),m=t("cnbVL"),y=t("N85OF"),_=t("3mZL4"),D=t("96QDM");class I{getConsentDetails(){var e=this;return(0,i._)(function(){return(0,c.__generator)(this,function(t){return e.consent?[2,{consent:(0,r._)({},e.consent),services:(0,r._)({},e.dps.services),categories:(0,r._)({},e.dps.categories)}]:[2]})})()}fetchI18nDataForLanguage(e){var t=this;return(0,i._)(function(){var n,s,i,r,o,a,u,l,d,v;return(0,c.__generator)(this,function(c){switch(c.label){case 0:return[4,t.apiService.fetchI18nData({language:e,settingsId:t.setting.id,settingsType:t.setting.type,settingsVersion:t.setting.version,activeTcfVendorsListVersion:null===(s=t.coreData)||void 0===s?void 0:null===(n=s.tcf)||void 0===n?void 0:n.vendorsListVersion,previousTcfVendorsListVersion:t.consent&&(null===(r=t.consent)||void 0===r?void 0:null===(i=r.vendorsList)||void 0===i?void 0:i.version)||(null===(a=t.coreData)||void 0===a?void 0:null===(o=a.tcf)||void 0===o?void 0:o.vendorsListVersion),previousTcfPolicyVersion:t.consent&&(null===(l=t.consent)||void 0===l?void 0:null===(u=l.vendorsList)||void 0===u?void 0:u.policyVersion)||(null===(v=t.coreData)||void 0===v?void 0:null===(d=v.tcf)||void 0===d?void 0:d.policyVersion)})];case 1:return[2,c.sent()]}})})()}initI18nData(){var e=this;return(0,i._)(function(){var t,n,s,i;return(0,c.__generator)(this,function(r){switch(r.label){case 0:if(!(!e.englishI18nFallbackData&&"en"!==e.ui.language))return[3,2];return[4,e.fetchI18nDataForLanguage("en")];case 1:e.englishI18nFallbackData=r.sent(),r.label=2;case 2:return[4,e.fetchI18nDataForLanguage(e.ui.language)];case 3:if(!(t=r.sent()))return[2];return n=t,e.englishI18nFallbackData&&(n=e.mergeWithFallback(t,e.englishI18nFallbackData)),(0,d.isGdprI18nData)(n)?e.i18n=new d.GdprI18nModel(n):(0,v.isTcfI18nData)(n)?(e.i18n=new v.TcfI18nModel(n),(null===(i=e.tcf)||void 0===i?void 0:null===(s=i.acm)||void 0===s?void 0:s.vendors)&&e.tcf.updateAcmVendorsPurposes(e.i18n.tcf.acm.vendorsPurposes)):(0,g.isCcpaI18nData)(n)&&(e.i18n=new g.UsI18nModel(n)),[2]}})})()}mergeWithFallback(e,t){if("object"!=typeof e||null===e)return e;if(Array.isArray(e)&&Array.isArray(t))return e.map((e,n)=>"object"==typeof e&&null!==e&&"object"==typeof t[n]?this.mergeWithFallback(e,t[n]):null!=e?e:t[n]);var n=(0,r._)({},t);for(var s in e)void 0!==e[s]&&null!==e[s]&&""!==e[s]&&(n[s]="object"==typeof e[s]&&"object"==typeof t[s]?this.mergeWithFallback(e[s],t[s]):e[s]);return n}clearStorage(){var e=this;return(0,i._)(function(){return(0,c.__generator)(this,function(t){return[2,e.consentService.clearConsentsLocally()]})})()}unblockScriptsWithConsent(){var e=this;return(0,i._)(function(){var t;return(0,c.__generator)(this,function(n){return t=e.dps.getAcceptedServices("name"),[2,e.scriptService.unblockScripts(t)]})})()}getControllerId(){var e;return null===(e=this.consent)||void 0===e?void 0:e.controllerId}getLanguage(){return this.ui.getLanguage()}getIsConsentRequired(){var e;return null===(e=this.consent)||void 0===e?void 0:e.required}changeLanguage(e){var t=this;return(0,i._)(function(){return(0,c.__generator)(this,function(n){switch(n.label){case 0:if(!t.languages.getHasLanguage(e))return[2];return t.ui.setLanguage(e),t.localStorageService.setUiData({language:e}),[4,t.initI18nData()];case 1:return n.sent(),[2]}})})()}setAnalyticsPixel(e,t){var n;null===(n=this.analyticsService)||void 0===n||n.setAnalyticsPixel(e,t)}dispatchViewChanged(e,t){(0,m.V2BridgeCustomEvents).dispatchUcUiViewChangedEvent({previousView:e,view:t}),this.gppService&&("first"===t||"second"===t?this.gppService.setCmpDisplayVisible():this.gppService.setCmpDisplayHidden(),this.gppService.setCmpSignalReady(),this.gppService.setCmpStatusLoaded()),this.tcf&&("first"===t||"second"===t?this.tcf.setUIOpen():"none"!==e&&this.tcf.setUIClosed())}acceptAllConsents(){var e=this;return(0,i._)(function(){return(0,c.__generator)(this,function(t){return e.tcf&&e.tcf.acceptAll(),e.dps.acceptAll(),[2]})})()}denyAllConsents(){var e=this;return(0,i._)(function(){return(0,c.__generator)(this,function(t){return e.tcf&&e.tcf.denyAll(),e.dps.denyAll(),[2]})})()}updateServicesConsents(e){var t=this;return(0,i._)(function(){return(0,c.__generator)(this,function(n){return t.dps.updateSome(e),[2]})})()}updateServiceConsent(e){var t=this;return(0,i._)(function(){return(0,c.__generator)(this,function(n){return t.dps.updateSome([e]),[2]})})()}updateCategoriesConsents(e){var t=this;return(0,i._)(function(){return(0,c.__generator)(this,function(n){return t.dps.updateCategoriesConsents(e),[2]})})()}updateCategoryConsent(e){var t=this;return(0,i._)(function(){return(0,c.__generator)(this,function(n){return t.dps.updateCategoriesConsents([e]),[2]})})()}saveConsents(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EXPLICIT",t=arguments.length>1?arguments[1]:void 0,n=this;return(0,i._)(function(){var s,i,r,o,a,u;return(0,c.__generator)(this,function(c){switch(c.label){case 0:if(!n.consent)return[3,2];return n.consent.setUiVersion(),n.consent.setRequired(!1),n.consent.setSetting(n.setting),n.consent.setLanguage(n.ui.getLanguage()),n.consent.setUpdatedAt(Date.now()),i=n.consent.hash,n.consent.setHash((0,_.sha256)(n.consent.updatedAt.toString())),"US"===n.setting.type?(r="ALL_DENIED"===n.dps.getConsentStatus(),(o=n.consent).setHasOptedOut(r),o.emitCcpaString()):t?n.consent.setUpdatedBy("onUpdateServices"):n.consent.setUpdatedBy(n.dps.updatedBy||(null===(s=n.tcf)||void 0===s?void 0:s.updatedBy)||"onUpdateServices"),n.dps.updatedBy=void 0,n.tcf&&(n.tcf.updatedBy=void 0),n.consent.setStatus(n.dps.getConsentStatus()),n.consent.setServiceIds(n.dps.getConsentServiceIds()),n.consent.setType(e),n.tcf&&((a=n.consent).setTcString(n.tcf.getTcString()),n.tcf.acm&&(u=n.tcf.getACString(),a.setAcString(u),n.tcf.setAddtlConsent(u)),n.tcf.refreshTimestamp(),n.tcf.emitTcString()),[4,n.applyConsents(i,t)];case 1:c.sent(),c.label=2;case 2:return[2]}})})()}saveConsentRemotely(){var e=this;return(0,i._)(function(){var t,n;return(0,c.__generator)(this,function(s){switch(s.label){case 0:if(!(e.consent&&!e.consent.isBot))return[3,2];return t=e.tcf&&Object.entries(e.tcf.vendors).map(e=>{var t=(0,a._)(e,2),n=t[0],s=t[1];return[+n,s.legIntPurposes,s.purposes,s.specialPurposes]}),n=(0,r._)({consent:e.consent,services:e.dps.services,settingsType:e.setting.type,ucString:e.localStorageService.getConsentString(),crossDeviceEnabled:e.crossDeviceService,analyticsEnabled:void 0!==e.analyticsService},t&&{vendors:t}),[4,e.consentService.saveConsentRemotely(n)];case 1:s.sent(),s.label=2;case 2:return[2]}})})()}areAllConsentsAccepted(){return"ALL_ACCEPTED"===this.dps.getConsentStatus()}areAllConsentsDenied(){return"ALL_DENIED"===this.dps.getConsentStatus()}getServiceInfo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return(0,i._)(function(){var s;return(0,c.__generator)(this,function(i){switch(i.label){case 0:if(!(s=n.dps.getService(e)))return[2];if(!(!n.i18n||t&&!n.i18n.getServiceHasDetails(e)))return[3,2];return[4,n.initI18nData()];case 1:i.sent(),i.label=2;case 2:if(n.i18n)return[2,{service:s,i18n:n.i18n.getService(e)}];return[2]}})})()}getStoredInfoByUrl(e){var t=this;return(0,i._)(function(){var n,s,i,a,u,l,d,v,g,h,f,S,C,m,y,_,D,I,b,w,A,L,T,E,M,U,V,P,k,B,x,O,N;return(0,c.__generator)(this,function(c){switch(c.label){case 0:return n={},[4,t.apiService.fetchStoredInfoData(e)];case 1:if(s=c.sent(),i="TCF"===t.setting.getType(),void 0!==t.i18n)return[3,3];return[4,t.initI18nData()];case 2:return c.sent(),[3,4];case 3:u=(a=t.i18n.base.cookieInformation).anyDomain,l=a.cookieRefresh,d=a.domain,v=a.multipleDomains,h=void 0===(g=a.duration)?"duration":g,f=a.no,C=void 0===(S=a.type)?"type":S,m=a.yes,_=(y=t.i18n.base).purposes,D=y.day,I=y.days,b=y.hour,w=y.hours,A=y.minute,L=y.minutes,T=y.month,E=y.months,M=y.second,U=y.seconds,V=y.session,P=y.year,k=y.years,s&&(B=s.disclosures,x=s.domains,O=[],N=[],B.map(e=>{var n=e.cookieRefresh,s=e.description,a=e.domain,c=e.identifier,g=e.maxAgeSeconds,S=e.name,y=e.type,B=e.purposes,x="";if(i&&B&&(null==B?void 0:B.length)>0){var N=[];B.forEach(e=>{var n;(null===(n=t.tcf)||void 0===n?void 0:n.purposes[e])&&N.push(t.tcf.purposes[e].name)}),x=`${N.join("; ")}`}var F=[];F.push({label:C,value:`${y}`}),"cookie"===y.toString()&&F.push({label:h,value:(0,p.convertCookieMaxAge)(g,{day:D,days:I,hour:b,hours:w,minute:A,minutes:L,month:T,months:E,second:M,seconds:U,session:V,year:P,years:k})}),null!==n&&F.push({label:l,value:n?m:f}),a&&F.push({label:d,value:(0,p.convertDomain)(a,u,v)}),i&&""!==x&&F.push({label:_||"Purposes",value:x}),O.push((0,o._)((0,r._)({id:null!=S?S:c,name:null!=S?S:c},s&&{description:s}),{body:F}))}),i&&(null==x||x.map(e=>{var t=e.domain,n=e.use;N.push({id:t,name:t,body:[...n?[{label:_||"Purposes",value:n}]:[]]})})),O.length>0&&(n.disclosures=O),N.length>0&&(n.domains=N)),c.label=4;case 4:return[2,n]}})})()}applyConsents(e,t){var n=this;return(0,i._)(function(){var s,i,r,o,a,u,l,d,v,g,f;return(0,c.__generator)(this,function(c){switch(c.label){case 0:if(!n.consent)throw Error("No consents");if(s=n.consent.hash!==e,n.gcm&&n.gcm.apply(n.dps.services,n.consent.type),n.uet&&n.uet.apply(n.dps.services,n.consent.type),!s)return[3,2];return[4,n.consentService.saveConsentLocally(n.consent,n.dps)];case 1:c.sent(),n.gppService&&(r="",(0,h.isUsConsentModel)(n.consent)&&(r=n.consent.ccpaString,o=n.consent.legislation),(0,h.isTcfConsentModel)(n.consent)&&(r=n.consent.tcString),null===(i=n.gppService)||void 0===i||i.setSectionString(r,n.setting.type,o)),c.label=2;case 2:if(setTimeout(()=>{n.unblockScriptsWithConsent()},0),!(n.customEventService||n.dataLayerService))return[3,4];return[4,n.getConsentDetails()];case 3:(a=c.sent())&&(n.customEventService.dispatchConsentDetails(a),null===(u=n.dataLayerService)||void 0===u||u.push((0,m.V2BridgeCustomEvents).getConsentDetailsV2(a))),c.label=4;case 4:if(!s)return[3,6];return n.saveConsentRemotely().catch(()=>{(0,p.UCConsole).error("CmpController - saveConsentRemotely","Could not save consents")}),d=(l=n.customEventService).dispatch,v=["UC_CONSENT_CHANGED"],[4,n.getConsentDetails()];case 5:return d.apply(l,v.concat([c.sent()])),[3,7];case 6:(null==(g=n.localStorageService.getUcData())?void 0:g.consent)||(f=n.consentService.mapServicesData(n.dps.services),n.localStorageService.setConsentData({services:f})),c.label=7;case 7:return(0,D.webSdkEvents).emit("CONSENTS_APPLIED",{fromEmbeddings:t}),[2]}})})()}getPrivacyButtonTheme(e){var t=this.languages.getLanguageScreenDirection(this.ui.getLanguage());return this.theme.getPrivacyButtonTheme({custom:e,direction:t})}getEmbeddingTheme(e){var t=this.languages.getLanguageScreenDirection(this.ui.getLanguage());return this.theme.getEmbeddingsTheme({custom:e,direction:t})}getCmpTheme(e,t){var n=this.languages.getLanguageScreenDirection(this.ui.getLanguage());return this.theme.getCmpTheme(e,{custom:t,direction:n})}getThemeDefaults(){this.theme.getThemeDefaults()}updateTheme(e){e&&(this.theme=new l.ThemeModel(e))}getCmpConfig(){var e=this;return(0,i._)(function(){var t,n;return(0,c.__generator)(this,function(s){return[2,{i18n:(0,r._)({},(null===(t=e.i18n)||void 0===t?void 0:t.base.poweredBy.isEnabled)&&{poweredBy:null===(n=e.i18n)||void 0===n?void 0:n.base.poweredBy})}]})})()}getServices(){var e=this;return(0,i._)(function(){return(0,c.__generator)(this,function(t){return[2,Object.entries(e.dps.services)]})})()}getCategories(){var e=this;return(0,i._)(function(){return(0,c.__generator)(this,function(t){return[2,Object.entries(e.dps.categories)]})})()}getLanguages(){var e=this;return(0,i._)(function(){return(0,c.__generator)(this,function(t){return[2,Object.entries(e.languages.languages)]})})()}constructor(e,t,n){var s=t.apiService,i=t.consentService,r=t.localStorageService,o=t.analyticsService,a=t.crossDeviceService,c=t.gppService;this.englishI18nFallbackData=null;var d=(0,y.getCombinedCmpData)(e,n);(0,D.webSdkEvents).emit("CMP_DATA_COMBINED",d);var v=d.dps,g=d.gcm,p=d.uet,h=d.core,m=d.integrations,_=d.setting,I=d.ui,b=d.languages,w=d.theme,A=d.template;this.coreData=null==n?void 0:n.settingsCoreData,this.apiService=s,this.analyticsService=o,this.consentService=i,this.crossDeviceService=a,this.customEventService=new u.CustomEventService(h.customEvents||[]),this.gppService=c,this.localStorageService=r,this.scriptService=new u.ScriptService,h.dataLayers&&(this.dataLayerService=new u.DataLayerService(h.dataLayers)),this.ui=new l.UiModel(I),this.languages=new l.LanguagesModel(b),this.setting=new l.SettingModel(_),this.dps=new l.DpsModel(v),this.theme=new l.ThemeModel(w||{}),A&&(this.template=new l.TemplateModel(A)),m&&(this.integrations=new S.IntegrationsModel(m)),g&&(this.gcm=new f.GoogleConsentModeModel(g,r,this.customEventService)),p&&(this.uet=new C.UetModel(this.customEventService))}}}),n("8bfDC",function(n,s){e(n.exports,"GdprI18nModel",()=>r),e(n.exports,"isGdprI18nData",()=>o);var i=t("14GuN");class r extends i.I18nModel{constructor(e){super(e),this.gdpr=e.gdpr}}var o=e=>"gdpr"in e}),n("gUC9p",function(n,s){e(n.exports,"TcfI18nModel",()=>r),e(n.exports,"isTcfI18nData",()=>o);var i=t("14GuN");class r extends i.I18nModel{constructor(e){super(e),this.tcf=e.tcf}}var o=e=>"tcf"in e}),n("6YDm0",function(n,s){e(n.exports,"UsI18nModel",()=>r),e(n.exports,"isCcpaI18nData",()=>o);var i=t("14GuN");class r extends i.I18nModel{constructor(e){super(e),this.ccpa=e.ccpa}}var o=e=>"ccpa"in e}),n("5CKHf",function(t,n){e(t.exports,"isUsConsentModel",()=>s),e(t.exports,"isTcfConsentModel",()=>i);var s=e=>"US"===e.setting.type,i=e=>"TCF"===e.setting.type}),n("hN3Ja",function(t,n){e(t.exports,"IntegrationsModel",()=>s);class s{getScripts(){return this.scripts}constructor(e){var t=e.scripts;this.scripts=t}}}),n("dH0Qb",function(n,s){e(n.exports,"UetModel",()=>r);var i=t("7qJ26");class r{getUetState(e){return Object.entries(e).reduce((e,t)=>{var n,s,r,o=(0,i._)(t,2)[1];return(null===(n=o.uet)||void 0===n?void 0:n.adStorage)!==void 0&&(e.adStorage=(null===(s=o.consent)||void 0===s?void 0:s.type)==="EXPLICIT"&&(null===(r=o.consent)||void 0===r?void 0:r.given)&&(!0===e.adStorage||void 0===e.adStorage)),e},{})}push(e){var t=e.adStorage;window.uetq=window.uetq||[],window.uetq.push("consent","update",{ad_storage:t}),this.customEventService.dispatchUcUetUpdateEvent(e)}apply(e,t){if((null===(s=window.ucCmpConfig)||void 0===s||null===(n=s.uetConfig)||void 0===n||!n.disabled)&&"EXPLICIT"===t){var n,s,i=this.getUetState(e).adStorage;void 0!==i&&this.push({adStorage:i?"granted":"denied"})}}constructor(e){this.customEventService=e}}}),n("N85OF",function(n,s){e(n.exports,"getCombinedCmpData",()=>d);var i=t("7qJ26"),r=t("bY6u9"),o=t("2hIpA"),a=t("3mZL4"),c=e=>(new Date().getTime()-e)/864e5,u=(e,t)=>!!(t&&e&&c(e)>t),l=(e,t)=>!!(t&&e&&Date.now()/1e3>t&&e/1e3<t),d=(e,t)=>{var n,s,c=e.consent,d=(t||{}).consentData,v=Date.now();if(c.uiVersion||(c.uiVersion=(null===(n=window.__ucMock)||void 0===n?void 0:n.uiVersion)||(null==d?void 0:d.uiVersion)||(null==t?void 0:t.uiVersion)),!c.controllerId&&(null==d?void 0:d.controllerId)&&(c.controllerId=d.controllerId),!c.controllerId&&(null===(s=window.__ucMock)||void 0===s?void 0:s.controllerId)&&(c.controllerId=window.__ucMock.controllerId),c.createdAt||(c.createdAt=(null==d?void 0:d.createdAt)||v),c.updatedAt||(e.consent.updatedAt=(null==d?void 0:d.updatedAt)||v),!c.tcString&&(null==d?void 0:d.tcString)&&(e.consent.tcString=d.tcString),"onInitialPageLoad"===e.consent.updatedBy&&(null==d?void 0:d.updatedBy)&&(e.consent.updatedBy=d.updatedBy),navigator.globalPrivacyControl&&"US"===e.setting.type&&"onDenyAllServices"===e.consent.updatedBy&&(null==d?void 0:d.gpcSignal)&&(e.consent.gpcSignal=!0),l(e.consent.updatedAt,e.ui.renewConsentsTimestamp)?e.ui.initialView="first":u(e.consent.updatedAt,e.ui.reshowAfterDays)?e.ui.initialView="first":e.ui.initialView||(e.ui.initialView=(null==d?void 0:d.type)==="EXPLICIT"||(null==d?void 0:d.updatedBy)==="onMobileSessionRestore"?e.ui.closedView:"first"),e.consent.required=e.ui.initialView!==e.ui.closedView,navigator.globalPrivacyControl&&"US"===e.setting.type&&(!d||"IMPLICIT"===d.type)){var g=new o.DpsModel(e.dps);g.denyAll(),e.dps=g,e.consent.gpcSignal=!0,e.consent.type="EXPLICIT",e.consent.updatedBy="onDenyAllServices";var p=e.consent.ccpaString;e.consent.ccpaString=p.charAt(0)+p.charAt(1)+"Y"+p.charAt(3),e.consent.status=g.getConsentStatus()}else if(null==d?void 0:d.status){e.consent.type=d.type,e.consent.serviceIds=d.serviceIds,e.dps.services=Object.entries(e.dps.services).reduce((e,t)=>{var n,s,r=(0,i._)(t,2),o=r[0],a=r[1];return"added"!==a.status&&(null==a?void 0:a.consent)&&(a.consent.given=a.essential||"ALL_ACCEPTED"===d.status||"SOME_ACCEPTED"===d.status&&(null===(n=d.serviceIds)||void 0===n?void 0:n.includes(o))||"SOME_DENIED"===d.status&&!(null===(s=d.serviceIds)||void 0===s?void 0:s.includes(o)),a.consent.type=d.type),e[o]=a,e},{}),e.dps.categories=(0,r.getCategoriesWithServicesConsent)(e.dps.categories,e.dps.services);var h=new o.DpsModel(e.dps);e.consent.status=h.getConsentStatus()}else{var f=new o.DpsModel(e.dps);e.consent.status=f.getConsentStatus(),e.consent.serviceIds=f.getConsentServiceIds()}return!e.consent.hash&&(e.consent.hash=(0,a.sha256)(e.consent.updatedAt.toString()),d&&d.hash&&d.hash!==e.consent.hash&&(e.consent.updatedBy="onEssentialChange")),e}})})();